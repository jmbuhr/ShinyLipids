<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data processing in ShinyLipids • ShinyLipids</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Data processing in ShinyLipids">
<meta property="og:description" content="Learn how to your data gets processed in ShinyLipids.
">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ShinyLipids</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jmbuhr/ShinyLipids/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Data-processing-in-ShinyLipids_files/header-attrs-2.3/header-attrs.js"></script><script src="Data-processing-in-ShinyLipids_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data processing in ShinyLipids</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmbuhr/ShinyLipids/blob/master/vignettes/Data-processing-in-ShinyLipids.Rmd"><code>vignettes/Data-processing-in-ShinyLipids.Rmd</code></a></small>
      <div class="hidden name"><code>Data-processing-in-ShinyLipids.Rmd</code></div>

    </div>

    
    
<div id="so-what-happens-to-my-data" class="section level1">
<h1 class="hasAnchor">
<a href="#so-what-happens-to-my-data" class="anchor"></a>So what happens to my data?…</h1>
<p>you might rightfully ask yourself when loading a dataset into ShinyLipids. Luckily, we expose the internals of ShinyLipids in the form of clearly named functions for you to use even outside of the app. If you want to learn more about <em>how exactly</em> things work underneath the hood, you can click at the individual functions to read their documentation or have a look at the source code. But for now, let’s explore the example data together. We will follow the steps that ShinyLipids takes and inspect intermediate results.</p>
<p>First, we load ShinyLipids</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ShinyLipids</span>)

<span class="no">input</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/defaultInput.html">defaultInput</a></span>()</pre></body></html></div>
<p>We can get the file path to our example data, given that ShinyLipids is installed, and open up a database connection to the database dump file</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">path</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"extdata/exampleDatabase.db"</span>, <span class="kw">package</span> <span class="kw">=</span> <span class="st">"ShinyLipids"</span>)
<span class="no">databaseConnection</span> <span class="kw">&lt;-</span> <span class="kw pkg">DBI</span><span class="kw ns">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span>(<span class="kw pkg">RSQLite</span><span class="kw ns">::</span><span class="fu"><a href="https://rsqlite.r-dbi.org/reference/SQLite.html">SQLite</a></span>(), <span class="no">path</span>)</pre></body></html></div>
<p>We see, that our example file contains two tables (their names are mandatory).</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="kw pkg">DBI</span><span class="kw ns">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbListTables.html">dbListTables</a></span>(<span class="no">databaseConnection</span>)
<span class="co">#&gt; [1] "data2"   "id_info"</span></pre></body></html></div>
<p>From this connection, we load in our meta data “id_info” – information about the dataset(s) in the “data2” table:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">metaData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/collectMetaData.html">collectMetaData</a></span>(<span class="no">databaseConnection</span>)
<span class="no">metaData</span>
<span class="co">#&gt; # A tibble: 1 x 14</span>
<span class="co">#&gt;      id title date_upload status sample_from date_sample extracted_by</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;date&gt;      &lt;chr&gt;  &lt;chr&gt;       &lt;date&gt;      &lt;chr&gt;       </span>
<span class="co">#&gt; 1     1 Exam… NA          in pr… Harry Pott… NA          Albus Dumbl…</span>
<span class="co">#&gt; # … with 7 more variables: date_extraction &lt;date&gt;, measured_by &lt;chr&gt;,</span>
<span class="co">#&gt; #   date_measured &lt;date&gt;, distinct_samples &lt;int&gt;, data_lines &lt;int&gt;, file &lt;chr&gt;,</span>
<span class="co">#&gt; #   instruments &lt;chr&gt;</span></pre></body></html></div>
<p>We see, that our ownly dataset in the database has id <code>1</code>, so we use that id to collect the raw data and inspect the first 6 rows:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">rawData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/collectRawData.html">collectRawData</a></span>(<span class="kw">con</span> <span class="kw">=</span> <span class="no">databaseConnection</span>,
                          <span class="kw">id</span> <span class="kw">=</span> <span class="fl">1</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">rawData</span>)
<span class="co">#&gt; # A tibble: 6 x 9</span>
<span class="co">#&gt;      id sample_identifi… lipid   value category func_cat sample sample_replicate</span>
<span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;           </span>
<span class="co">#&gt; 1     1 1Aa              Cer … 0.00590 SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; 2     1 1Aa              Cer … 0.276   SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; 3     1 1Aa              Cer … 0.0497  SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; 4     1 1Aa              Cer … 0.0690  SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; 5     1 1Aa              Cer … 0.00325 SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; 6     1 1Aa              Cer … 0.0219  SP       SP       1 - 0… 1 - 0min Stim_A </span>
<span class="co">#&gt; # … with 1 more variable: sample_replicate_technical &lt;chr&gt;</span></pre></body></html></div>
<p>Next, we run the data processing steps.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">plotData</span> <span class="kw">&lt;-</span> <span class="no">rawData</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/imputeMissingIf.html">imputeMissingIf</a></span>(<span class="no">input</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/addLipidProperties.html">addLipidProperties</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardizeWithinTechnicalReplicatesIf.html">standardizeWithinTechnicalReplicatesIf</a></span>(<span class="no">input</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/filterRawDataFor.html">filterRawDataFor</a></span>(<span class="no">input</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/standardizeRawDataWithin.html">standardizeRawDataWithin</a></span>(<span class="no">input</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/createPlotData.html">createPlotData</a></span>(<span class="no">input</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">plotData</span>)
<span class="co">#&gt; # A tibble: 6 x 4</span>
<span class="co">#&gt;   class sample         sample_replicate value</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;          &lt;fct&gt;            &lt;dbl&gt;</span>
<span class="co">#&gt; 1 PC    1 - 0min Stim  1 - 0min Stim_A  0.567</span>
<span class="co">#&gt; 2 PC    1 - 0min Stim  1 - 0min Stim_B  0.420</span>
<span class="co">#&gt; 3 PC    1 - 0min Stim  1 - 0min Stim_C  0.291</span>
<span class="co">#&gt; 4 PC    1 - 0min Stim  1 - 0min Stim_D  1.22 </span>
<span class="co">#&gt; 5 PC    2 - 10min Stim 2 - 10min Stim_A 0.235</span>
<span class="co">#&gt; 6 PC    2 - 10min Stim 2 - 10min Stim_B 0.333</span></pre></body></html></div>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">meanPlotData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/summarisePlotData.html">summarisePlotData</a></span>(<span class="no">plotData</span>, <span class="no">input</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">meanPlotData</span>)
<span class="co">#&gt; # A tibble: 6 x 8</span>
<span class="co">#&gt;   class sample            SD    SEM     N value CI_lower CI_upper</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 PC    1 - 0min Stim  0.412 0.103      4 0.624    0.296    0.952</span>
<span class="co">#&gt; 2 PC    2 - 10min Stim 0.194 0.0484     4 0.425    0.271    0.579</span>
<span class="co">#&gt; 3 PC    3 - 6h Stim    0.129 0.0324     4 0.583    0.480    0.686</span>
<span class="co">#&gt; 4 PC    4 - 18h Stim   0.300 0.0750     4 0.728    0.489    0.967</span>
<span class="co">#&gt; 5 PC O- 1 - 0min Stim  0.145 0.0363     4 0.333    0.218    0.448</span>
<span class="co">#&gt; 6 PC O- 2 - 10min Stim 0.311 0.0777     4 0.429    0.181    0.676</span></pre></body></html></div>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">plt</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/createMainPlot.html">createMainPlot</a></span>(<span class="kw">plotData</span>            <span class="kw">=</span> <span class="no">plotData</span>,
                      <span class="kw">meanPlotData</span>        <span class="kw">=</span> <span class="no">meanPlotData</span>,
                      <span class="kw">pairwiseComparisons</span> <span class="kw">=</span> <span class="kw">NULL</span>,
                      <span class="kw">input</span> <span class="kw">=</span> <span class="no">input</span>)

<span class="no">plt</span></pre></body></html></div>
<p><img src="Data-processing-in-ShinyLipids_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://jmbuhr.de/">Jannik Buhr</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
